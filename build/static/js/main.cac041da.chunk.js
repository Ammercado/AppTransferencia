(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(16),i=t.n(l),c=(t(67),t(10)),o=t(11),u=t(13),m=t(12),s=t(14),d=(t(28),t(6)),p=t(3),E=t(2),v=t.n(E),b=t(57),f=t.n(b),h=t(36),g=t.n(h);g.a.initializeApp({apiKey:"AIzaSyAZY86RVw_54YXpEfTi_NRiVS-XBOHz28k",authDomain:"apptransferencia.firebaseapp.com",databaseURL:"https://apptransferencia.firebaseio.com",projectId:"apptransferencia",storageBucket:"apptransferencia.appspot.com",messagingSenderId:"1035491599835"});var y=g.a,O=t(58),C=t.n(O)()({usuario:{uid:"",displayName:"",email:"","contrase\xf1a":"",dinero:0},receptor:{Rename:"",Reid:"",Reemail:"",Redinero:""},monto:"",user:null,autenticado:!1,verificar:!1,activeTab:"1",dropdownOpen:!1}),j=function(e){C.update(function(a){a.usuario=e})},k=function(e){C.update(function(a){a.receptor=e})},N=function(e){C.update(function(a){a.verificar=e})},w=function(e){C.update(function(a){a.activeTab=e})},S=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).IniciarSesion=t.IniciarSesion.bind(Object(d.a)(Object(d.a)(t))),t.CrearCuenta=t.CrearCuenta.bind(Object(d.a)(Object(d.a)(t))),t.toggle=t.toggle.bind(Object(d.a)(Object(d.a)(t))),t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"toggle",value:function(e){w!==e&&w(e)}},{key:"CrearCuenta",value:function(e){var a=C.getState().usuario,t=a.email,n=a.contrase\u00f1a,r=a.displayName;e.preventDefault(),y.auth().createUserWithEmailAndPassword(t,n).then(function(e){var a=y.auth().currentUser;a.updateProfile({displayName:document.getElementById("nombreyape").value}),y.database().ref("usuarios/".concat(a.uid)).set({uid:a.uid,name:r,email:t,"contrase\xf1a":n,dinero:1e3}).then(function(e){console.log("Documento creado!")}).catch(function(e){console.error("Error writing document: ",e)})}).catch(function(e){alert(e),console.log(e)})}},{key:"IniciarSesion",value:function(e){e.preventDefault();var a=C.getState().usuario,t=a.email,n=a.contrase\u00f1a;y.auth().signInWithEmailAndPassword(t,n).then(function(e){}).catch(function(e){alert(e),console.log(e)})}},{key:"cambiarEmail",value:function(e){var a,t=e.target.value;a=t,C.update(function(e){e.usuario.email=a})}},{key:"cambiarContrase\xf1a",value:function(e){var a,t=e.target.value;a=t,C.update(function(e){e.usuario.contrase\u00f1a=a})}},{key:"cambiarNombre",value:function(e){var a,t=e.target.value;a=t,C.update(function(e){e.usuario.displayName=a})}},{key:"render",value:function(){var e=this,a=C.getState().activeTab;return r.a.createElement("div",{className:"form-main"},r.a.createElement("div",{className:"form-div"},r.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),r.a.createElement(p.r,{tabs:!0},r.a.createElement(p.s,null,r.a.createElement(p.t,{className:v()({active:"1"===a}),onClick:function(){e.toggle("1")}},"Iniciar Sesion")),r.a.createElement(p.s,null,r.a.createElement(p.t,{className:v()({active:"2"===a}),onClick:function(){e.toggle("2")}},"Crear Cuenta"))),r.a.createElement(p.x,{activeTab:a},r.a.createElement(p.y,{tabId:"1"},r.a.createElement("div",{className:"container"},r.a.createElement(p.m,null,r.a.createElement(p.w,{form:!0},r.a.createElement(p.h,{md:10},r.a.createElement(p.n,null,r.a.createElement(p.o,{onChange:this.cambiarEmail,type:"text",name:"email",id:"exampleEmail",placeholder:"Correo electronico"}))),r.a.createElement(p.h,{md:10},r.a.createElement(p.n,null,r.a.createElement(p.o,{onChange:this.cambiarContrase\u00f1a,type:"password",name:"password",id:"examplePassword",placeholder:"Contrase\xf1a"})))),r.a.createElement("hr",null),r.a.createElement(p.b,{type:"submit",onClick:this.IniciarSesion},"Ingresar")))),r.a.createElement(p.y,{tabId:"2"},r.a.createElement("div",{className:"container"},r.a.createElement(p.w,{form:!0},r.a.createElement(p.h,{md:10},r.a.createElement(p.n,null,r.a.createElement(p.o,{onChange:this.cambiarNombre,type:"text",name:"nombreyape",id:"nombreyape",placeholder:"Nombre Y Apellido"})),r.a.createElement(p.n,null,r.a.createElement(p.o,{onChange:this.cambiarEmail,type:"text",name:"email",id:"email",placeholder:"Correo Electronico"})),r.a.createElement(p.n,null,r.a.createElement(p.o,{onChange:this.cambiarContrase\u00f1a,type:"password",name:"contrase\xf1a",id:"econtrase\xf1a",placeholder:"Contrase\xf1a"})))),r.a.createElement("hr",null),r.a.createElement(p.h,{md:10},r.a.createElement(p.b,{type:"submit",onClick:this.CrearCuenta},"Crear Cuenta")))))))}}]),a}(r.a.Component),I=t(27),D=t.n(I),R=t(60),A=t.n(R),x=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(d.a)(Object(d.a)(t))),t.state={dropdownOpen:!1},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"toggle",value:function(){this.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})}},{key:"cerrarSesion",value:function(e){e.preventDefault(),y.auth().signOut().then(function(){window.location.assign("/")}).catch(function(e){})}},{key:"render",value:function(){var e=C.getState().dropdownOpen,a=C.getState().usuario.displayName;return r.a.createElement("header",{className:"App-header"},r.a.createElement(p.u,null,r.a.createElement(p.v,{href:"/"},"App Transferencia"),r.a.createElement(p.r,null,r.a.createElement(p.t,null,r.a.createElement(p.i,{isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(p.l,{tag:"span",onClick:this.dropdown,"data-toggle":"dropdown","aria-expanded":e},r.a.createElement(A.a,{label:a})),r.a.createElement(p.k,null,r.a.createElement(p.j,{onClick:this.cerrarSesion},"Cerrar Sesion!")))))))}}]),a}(n.Component),T=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=C.getState().receptor,a=e.Reemail,t=e.Redinero,n=e.Rename,l=C.getState(),i=l.monto,c=l.verificar,o=parseInt(t)+parseInt(i);return r.a.createElement("div",null,c&&r.a.createElement("div",null,r.a.createElement("h2",null,"Live Demo "),r.a.createElement("p",null,"Nombre: ",n),r.a.createElement("p",null,"Email: ",a," "),r.a.createElement("p",null,"Saldo: ",t," "),r.a.createElement("p",null,"Saldo a enviar:",i),r.a.createElement("p",null,"Total: ",o," ")),!c&&r.a.createElement("div",null))}}]),a}(r.a.Component),q=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).verificarEmail=t.verificarEmail.bind(Object(d.a)(Object(d.a)(t))),t.validacionCampo=t.validacionCampo.bind(Object(d.a)(Object(d.a)(t))),t.enviarDinero=t.enviarDinero.bind(Object(d.a)(Object(d.a)(t))),t.state={ListaDatos:[]},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.database().ref("/usuarios").once("value").then(function(a){a.forEach(function(a){var t=a.val();t.id=a.key,e.state.ListaDatos.push(t)});for(var t=y.auth().currentUser,n=e.state.ListaDatos,r=0,l=n.length;r<l;r++)if(n[r].uid===t.uid){var i={uid:n[r].uid,displayName:n[r].name,email:n[r].email,"contrase\xf1a":n[r].contrase\u00f1a,dinero:n[r].dinero};j(i);break}})}},{key:"cambiarMonto",value:function(e){var a,t=e.target.value;a=t,C.update(function(e){e.monto=a})}},{key:"validacionCampo",value:function(){var e=C.getState().usuario.email,a=document.getElementById("buscaremail").value;a.length>0&&/[A-Za-z]+@+[A-Za-z]+.+[A-Za-z]/.test(a)&&a!==e?this.verificarEmail():(alert("Verifique que el email ingresado sea el correcto"),N(!1))}},{key:"verificarEmail",value:function(){for(var e=document.getElementById("buscaremail").value,a=this.state.ListaDatos,t=0,n=a.length;t<n;t++){if(a[t].email===e){N(!0);var r={Reid:a[t].uid,Rename:a[t].name,Redinero:a[t].dinero,Reemail:a[t].email};k(r);break}console.log("Error"),N(!1)}}},{key:"enviarDinero",value:function(){var e=C.getState().usuario,a=e.dinero,t=e.uid,n=C.getState().receptor,r=n.Redinero,l=n.Reid,i=C.getState().monto,c=a-i,o=parseInt(r)+parseInt(i);a>0&&i<=a&&i>0?(y.database().ref("usuarios/".concat(l)).update({dinero:o}).then(function(e){D()({title:"Realizando Envio",timer:3e3,allowOutsideClick:!1,onOpen:function(){D.a.showLoading()},onClose:function(){clearInterval(void 0)}}).then(function(e){e.dismiss===D.a.DismissReason.timer&&(window.location.reload(!0),N(!1),console.log("I was closed by the timer"))})}).catch(function(e){console.error("Error al enviar ",e)}),y.database().ref("usuarios/".concat(t)).update({dinero:c})):alert("No es posible enviar esa cantidad")}},{key:"render",value:function(){var e=C.getState().usuario,a=e.uid,t=e.displayName,n=e.email,l=e.dinero,i=C.getState().verificar;return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:"contenedor"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement(p.h,{sm:"12"},r.a.createElement(p.c,null,r.a.createElement(p.e,null,"Saldo Disponible"),r.a.createElement(p.d,null,r.a.createElement(p.g,null,"$ ",l),r.a.createElement(p.f,null)))),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{className:"tab-pane active",id:"home"},r.a.createElement("hr",null),r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement(p.p,null,r.a.createElement(p.q,{addonType:"prepend"},"Id de Usuario"),r.a.createElement(p.o,{placeholder:a,disabled:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(p.p,null,r.a.createElement(p.q,{addonType:"prepend"},"Nombre"),r.a.createElement(p.o,{placeholder:t,disabled:!0})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(p.p,null,r.a.createElement(p.q,{addonType:"prepend"},"Email"),r.a.createElement(p.o,{placeholder:n,disabled:!0}))))),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h2",null,"Realizar una tranferencia:"),r.a.createElement(p.a,{color:"dark"},"Modo Prueba usar Email: ",r.a.createElement("b",null,"prueba@gmail.com")),r.a.createElement(p.p,null,r.a.createElement(p.o,{id:"buscaremail",placeholder:"Ingrese email al que desea enviar"}),r.a.createElement(p.q,{addonType:"append"},r.a.createElement(p.b,{color:"secondary",onClick:this.validacionCampo},"Comprobar"))),r.a.createElement("div",null,i&&r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(p.h,{md:8},r.a.createElement(p.p,null,r.a.createElement(p.q,{addonType:"prepend"},"$"),r.a.createElement(p.o,{id:"enviarDinero",onChange:this.cambiarMonto,placeholder:"Ingrese el Monto a enviar",type:"text",step:"1"}),r.a.createElement(p.b,{color:"secondary",onClick:this.enviarDinero},"Enviar"))))),!i&&r.a.createElement("div",null)),r.a.createElement("hr",null),r.a.createElement(T,null))))))))}}]),a}(r.a.Component),z=function(e){function a(){return Object(c.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){y.auth().onAuthStateChanged(function(e){var a;e&&(a=!0,C.update(function(e){e.autenticado=a}))})}},{key:"render",value:function(){var e=C.getState().autenticado;return r.a.createElement("div",{className:"App"},e&&r.a.createElement(q,null),!e&&r.a.createElement(S,null))}}]),a}(n.Component),L=(t(161),function(){i.a.render(r.a.createElement(z,null),document.getElementById("root"))});C.subscribe(L),L()},28:function(e,a,t){},57:function(e,a,t){e.exports=t.p+"static/media/intercambio.022599b6.svg"},62:function(e,a,t){e.exports=t(163)},67:function(e,a,t){}},[[62,2,1]]]);
//# sourceMappingURL=main.cac041da.chunk.js.map